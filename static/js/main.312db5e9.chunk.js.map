{"version":3,"sources":["features/canvas/styles.module.scss","components/stories_droppable/styles.module.scss","features/editing/components/styles.module.scss","App.module.scss","utils/random.ts","components/user_story/model.ts","components/user_story/UserStory.tsx","features/planner/plannerSlice.ts","components/sprint/model.ts","features/editing/editingSlice.ts","components/stories_droppable/StoriesDroppable.tsx","components/sprint/Sprint.tsx","features/canvas/Canvas.tsx","app/store.ts","features/storage_actions/export.ts","features/storage_actions/StateImporter.tsx","features/storage_actions/import.ts","features/side_menu/components/DropdownImport.tsx","features/side_menu/components/DropdownNew.tsx","features/side_menu/components/DropdownDebug.tsx","features/side_menu/SideMenu.tsx","features/unsaved_drop_preventer/UnsavedDropPreventer.tsx","features/planner/Planner.tsx","features/editing/components/CommonEditingModal.tsx","features/editing/components/StoryModal.tsx","features/editing/components/SprintModal.tsx","features/editing/Editing.tsx","App.tsx","serviceWorker.ts","index.tsx","components/sprint/styles.module.scss","components/user_story/styles.module.scss","features/side_menu/styles.module.scss"],"names":["module","exports","getRandomInt","min","max","Math","ceil","floor","random","randomEnum","anEnum","enumValues","Object","keys","map","n","Number","parseInt","filter","isNaN","length","Risk","Priority","getOptions","Enum","k","_","isNumber","key","value","text","randomStory","id","v4","priority","risk","name","points","description","dependencies","color","HIGH","styles","high","MEDIUM","medium","LOW","low","UserStoryCard","story","index","setEditing","draggableId","provided","draggableProps","dragHandleProps","ref","innerRef","className","container","onClick","points_container","initialState","backlog","sprints","stories","maxPoints","allowedToDrop","currentlyDragged","getStory","state","source","targetStory","droppableId","BACKLOG","sprint","find","sp","removeStoryFromState","targetStoryId","st","plannerSlice","createSlice","reducers","moveCard","payload","destination","forEach","splice","updateDroppables","countPoints","setIsDragged","saveSprint","sprintIndex","findIndex","push","saveStory","content","targetSprint","removeSprint","removeStory","importState","importStories","createRandomStory","createRandomSprint","times","randomSprint","actions","selectBacklog","planner","selectSprints","selectIsDragging","undefined","editingSlice","setEditingSprint","setEditingStory","extraReducers","builder","addCase","data","editing","selectEditingSprint","selectEditingStory","StoriesDroppable","droppableProps","dispatch","useDispatch","snapshot","droppableArea","draggingOverWith","s","UserStory","placeholder","reduce","prev","curr","Sprint","isDragging","useState","overflowed","setOverflowed","useEffect","container_overflowed","header","title","Button","icon","compact","capacity","capacity_overflowed","formatValue","val","toFixed","duration","isDropDisabled","stories_droppable","notAllowedToDrop","Canvas","right_space","store","configureStore","reducer","toastr","plannerReducer","editingReducer","askToDownload","Blob","type","dataAsUrl","window","URL","createObjectURL","link","document","createElement","setAttribute","href","body","appendChild","requestAnimationFrame","event","MouseEvent","dispatchEvent","removeChild","revokeObjectURL","StateImporter","uniqueId","importText","onFileRead","successText","extension","isUploading","setIsUploading","inputRef","useRef","reader","FileReader","onloadstart","onloadend","onload","ev","console","log","target","result","success","e","error","message","fileReader","onChange","files","readAsText","style","display","accept","Modal","open","size","ModalContent","startImport","input","getElementById","click","mapStory","idToUuid","mapId","replace","split","dep","realId","stateImporterId","storiesImporterId","DropdownImport","dispatchStateImport","useCallback","JSON","parse","dispatchStoriesImport","parsed","Papa","errors","Error","newStories","mapToStories","Dropdown","floating","labeled","button","DropdownMenu","DropdownItem","getState","dataToExport","stringify","onbeforeunload","exportStateAndAskDownload","DropdownNew","DropdownDebug","SideMenu","menus","availableToDrop","UnsavedDropPreventer","Planner","useSelector","CommonEditingModal","editMode","entity","entityName","onClose","remove","save","formControls","removeDisabled","confirmOpen","setConfirmOpen","Confirm","onConfirm","onCancel","ModalHeader","Form","onSubmit","buttons","Popup","trigger","preventDefault","disabled","StoryModal","editingData","values","setValues","FormInput","label","required","autoFocus","FormTextArea","FormGroup","widths","FormSelect","toString","options","SprintModal","Editing","editingSprint","editingStoryData","App","onDragStart","initial","onDragEnd","timeOut","newestOnTop","position","transitionIn","transitionOut","closeOnToastrClick","Boolean","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.312db5e9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1h2a_\",\"right_space\":\"styles_right_space__1-9Il\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"allowedToDrop\":\"styles_allowedToDrop__1HdZ6\",\"droppableArea\":\"styles_droppableArea__1y-Wm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttons\":\"styles_buttons__2uFU4\",\"placeholder\":\"styles_placeholder__1IF_b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__eSJ6i\"};","export function getRandomInt(min: number, max: number) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min)) + min; //Максимум не включается, минимум включается\n}\n\nexport function randomEnum<T>(anEnum: T): T[keyof T] {\n  const enumValues = Object.keys(anEnum)\n    .map(n => Number.parseInt(n))\n    .filter(n => !Number.isNaN(n)) as unknown as T[keyof T][]\n  const randomIndex = Math.floor(Math.random() * enumValues.length)\n  return enumValues[randomIndex];\n}\n","import {v4} from \"uuid\";\nimport {getRandomInt, randomEnum} from \"../../utils/random\";\nimport _ from \"lodash\";\n\nexport interface UserStoryData {\n  id: string;\n  points: number;\n  risk: Risk;\n  priority: Priority;\n  name: string;\n  description: string;\n  dependencies: string[];\n}\n\nexport enum Risk {\n  HIGH,\n  MEDIUM,\n  LOW\n}\n\nexport enum Priority {\n  HIGH,\n  MEDIUM,\n  LOW\n}\n\nexport const getOptions = (Enum: any) => {\n  return Object.keys(Enum).filter(k => !_.isNumber(Enum[k])).map(key => ({\n    key,\n    value: key,\n    text: Enum[key]\n  }))\n}\n\nexport const randomStory: () => UserStoryData = () => {\n  const id = v4();\n  return ({\n    id,\n    priority: randomEnum(Priority),\n    risk: randomEnum(Risk),\n    name: id,\n    points: getRandomInt(1, 5),\n    description: id,\n    dependencies: []\n  });\n}\n","import React from 'react';\nimport {Risk, UserStoryData} from \"./model\";\nimport styles from './styles.module.scss';\nimport {Draggable} from \"react-beautiful-dnd\";\n\nexport interface IUserStoryProps {\n  index: number;\n  story: UserStoryData;\n  setEditing: () => void;\n}\n\nconst color = (priority: Risk) => {\n  switch (priority) {\n    case Risk.HIGH:\n      return styles.high;\n    case Risk.MEDIUM:\n      return styles.medium;\n    case Risk.LOW:\n      return styles.low;\n    default:\n      return '';\n  }\n}\n\nconst UserStoryCard: React.FC<IUserStoryProps> = (\n  {story: {id, name, points, priority, risk}, index, setEditing}\n) => (\n  <Draggable draggableId={id} index={index}>\n    {(provided) => (\n      <div\n        {...provided.draggableProps}\n        {...provided.dragHandleProps}\n        ref={provided.innerRef}\n        className={`${styles.container} ${color(risk)}`}\n        onClick={setEditing}\n      >\n        <div className={styles.points_container}>\n          <div className={styles.points}>\n            {points}\n          </div>\n        </div>\n        <div className={styles.name}>\n          {name}\n        </div>\n        <div className={styles.priority}>{`Priority: ${Risk[priority]}`}</div>\n      </div>\n    )}\n  </Draggable>\n);\n\nexport default UserStoryCard;\n","import {randomStory, UserStoryData} from \"../../components/user_story/model\";\nimport {createSlice, PayloadAction} from \"@reduxjs/toolkit\";\nimport {RootState} from \"../../app/store\";\nimport {randomSprint, SprintData} from \"../../components/sprint/model\";\nimport {DraggableLocation, DragStart, DropResult} from \"react-beautiful-dnd\";\nimport {countPoints} from \"../../components/sprint/Sprint\";\nimport {SourceProps, StoryEditingData} from \"../editing/editingSlice\";\nimport {v4} from \"uuid\";\n\ninterface PlannerState extends DataState {\n  currentlyDragged: boolean;\n}\n\ninterface DataState {\n  backlog: UserStoryData[];\n  sprints: SprintData[];\n}\n\nconst initialState: PlannerState = {\n  backlog: [],\n  sprints: [\n    {\n      stories: [],\n      maxPoints: 20,\n      name: 'Sprint 1',\n      id: v4(),\n      allowedToDrop: true\n    }\n  ],\n  currentlyDragged: false\n}\n\nconst getStory = (state: PlannerState, source: DraggableLocation) => {\n  let targetStory;\n  if (source.droppableId === BACKLOG) {\n    targetStory = state.backlog[source.index];\n  } else {\n    const sprint = state.sprints.find(sp => sp.id === source.droppableId);\n    targetStory = sprint?.stories[source.index];\n  }\n  return targetStory\n}\n\nfunction removeStoryFromState(source: SourceProps, state: PlannerState, targetStoryId: string) {\n  if (source.droppableId === BACKLOG) {\n    state.backlog = state.backlog.filter(st => st.id !== targetStoryId)\n  } else {\n    const sprint = state.sprints.find(sp => sp.id === source.droppableId);\n    if (sprint) {\n      sprint.stories = sprint.stories.filter(st => st.id !== targetStoryId)\n    }\n  }\n}\n\nexport const plannerSlice = createSlice({\n  name: 'planner',\n  initialState,\n  reducers: {\n    moveCard: (state, {payload: {draggableId: targetStoryId, source, destination}}: PayloadAction<DropResult>) => {\n      state.sprints.forEach(sp => sp.allowedToDrop = true);\n      if (!destination) return;\n\n      const targetStory = getStory(state, source);\n      if (!targetStory) return;\n\n      removeStoryFromState(source, state, targetStoryId);\n\n      if (destination.droppableId === BACKLOG) {\n        state.backlog.splice(destination.index, 0, targetStory);\n      } else {\n        const sprint = state.sprints.find(sp => sp.id === destination.droppableId);\n        sprint?.stories.splice(destination.index, 0, targetStory);\n      }\n    },\n\n    updateDroppables: (state, {payload: {source}}: PayloadAction<DragStart>) => {\n      const targetStory = getStory(state, source);\n      if (!targetStory) return;\n\n      state.sprints.forEach(sp => {\n        if (sp.id !== source.droppableId) {\n          const points = countPoints(sp.stories);\n          sp.allowedToDrop = sp.maxPoints >= (points + targetStory.points);\n        }\n      })\n    },\n\n    setIsDragged: (state, {payload}: PayloadAction<boolean>) => {\n      state.currentlyDragged = payload;\n    },\n\n    saveSprint: (state, {payload}: PayloadAction<SprintData>) => {\n      if (payload.id) {\n        const sprintIndex = state.sprints.findIndex(sp => sp.id === payload.id)\n        state.sprints[sprintIndex] = payload;\n      } else {\n        state.sprints.push({\n          ...payload,\n          id: v4(),\n          stories: []\n        });\n      }\n    },\n\n    saveStory: (state, {payload: {content, source}}: PayloadAction<StoryEditingData>) => {\n      if (source) {\n        if (source.droppableId === BACKLOG) {\n          state.backlog[source.index] = content;\n        } else {\n          const targetSprint = state.sprints.find(sp => sp.id === source.droppableId);\n          if (!targetSprint) return;\n          targetSprint.stories[source.index] = content\n        }\n      } else {\n        state.backlog.splice(0, 0, {...content, id: v4()});\n      }\n    },\n\n    removeSprint: (state, {payload}: PayloadAction<SprintData>) => {\n      if (payload.stories.length !== 0) return;\n      state.sprints = state.sprints.filter(sp => sp.id !== payload.id);\n    },\n\n    removeStory: (state, {payload: {source, content: targetStory}}: PayloadAction<StoryEditingData>) => {\n      if (!source) return;\n      removeStoryFromState(source, state, targetStory.id);\n    },\n\n    importState: (state, {payload}: PayloadAction<DataState>) => {\n      state.backlog = payload.backlog;\n      state.sprints = payload.sprints;\n    },\n\n    importStories: (state, {payload}: PayloadAction<UserStoryData[]>) => {\n      state.backlog.push(...payload)\n    },\n\n    createRandomStory: (state) => {\n      state.backlog.push(randomStory())\n    },\n\n    createRandomSprint: state => {\n      state.sprints.push(randomSprint())\n    }\n  }\n});\n\nexport const BACKLOG = 'Backlog';\n\nexport const {\n  moveCard,\n  updateDroppables,\n  setIsDragged,\n  saveSprint,\n  saveStory,\n  removeStory,\n  removeSprint,\n  importState,\n  importStories,\n  createRandomSprint,\n  createRandomStory\n} = plannerSlice.actions;\n\nexport const selectBacklog = (state: RootState) => state.planner.backlog;\nexport const selectSprints = (state: RootState) => state.planner.sprints;\nexport const selectIsDragging = (state: RootState) => state.planner.currentlyDragged;\n\nexport default plannerSlice.reducer;\n","import {randomStory, UserStoryData} from \"../user_story/model\";\nimport {v4} from \"uuid\";\nimport {getRandomInt} from \"../../utils/random\";\nimport _ from \"lodash\";\n\nexport interface SprintData {\n  id: string;\n  name: string;\n  stories: UserStoryData[];\n  maxPoints: number;\n  allowedToDrop: boolean;\n}\n\nexport function randomSprint(): SprintData {\n  const id = v4();\n  return ({\n    id,\n    name: id,\n    maxPoints: 20,\n    stories: _.times(getRandomInt(1, 4)).map(() => randomStory()),\n    allowedToDrop: true\n  })\n}\n","import {createSlice, PayloadAction} from \"@reduxjs/toolkit\";\nimport {SprintData} from \"../../components/sprint/model\";\nimport {UserStoryData} from \"../../components/user_story/model\";\nimport {RootState} from \"../../app/store\";\nimport {saveSprint, saveStory, removeSprint, removeStory} from \"../planner/plannerSlice\";\n\ninterface EditingState {\n  sprint: SprintData | undefined;\n  story: StoryEditingData | undefined;\n}\n\nexport interface StoryEditingData {\n  content: UserStoryData,\n  source?: SourceProps;\n}\n\nconst initialState: EditingState = {\n  sprint: undefined,\n  story: undefined\n}\n\nexport interface SourceProps {\n  droppableId: string;\n  index: number;\n}\n\nexport const editingSlice = createSlice({\n  name: 'editing',\n  initialState,\n  reducers: {\n    setEditingSprint: (state, {payload}: PayloadAction<SprintData | undefined>) => {\n      state.sprint = payload;\n    },\n\n    setEditingStory: (state, {payload}: PayloadAction<StoryEditingData | undefined>) => {\n      state.story = payload;\n    }\n  },\n  extraReducers: builder => {\n    builder\n      .addCase(saveSprint, state => state.sprint = undefined)\n      .addCase(saveStory, state => state.story = undefined)\n      .addCase(removeStory, state => state.story = undefined)\n      .addCase(removeSprint, state => state.sprint = undefined)\n  }\n})\n\nexport const {setEditingSprint, setEditingStory} = editingSlice.actions;\n\nconst data = (state: RootState) => state.editing;\n\nexport const selectEditingSprint = (state: RootState) => data(state).sprint;\nexport const selectEditingStory = (state: RootState) => data(state).story;\n\nexport default editingSlice.reducer;\n","import React from 'react';\nimport UserStoryCard from \"../user_story/UserStory\";\nimport {Droppable} from \"react-beautiful-dnd\";\nimport {UserStoryData} from \"../user_story/model\";\nimport styles from './styles.module.scss';\nimport {useDispatch} from \"react-redux\";\nimport {setEditingStory} from '../../features/editing/editingSlice';\n\nexport interface IStoriesDroppableProps {\n  droppableProps: {\n    droppableId: string;\n    isDropDisabled?: boolean;\n  };\n  className: string;\n  stories: UserStoryData[];\n}\n\nconst StoriesDroppable: React.FC<IStoriesDroppableProps> = (\n  {droppableProps, className, stories}\n) => {\n  const dispatch = useDispatch();\n\n  return (\n    <Droppable {...droppableProps}>\n      {(provided, snapshot) => (\n        <div\n          className={`${className} ${styles.droppableArea} ${snapshot.draggingOverWith ? styles.allowedToDrop : ''}`}\n          ref={provided.innerRef}\n          {...provided.droppableProps}\n        >\n          {stories.map((s, index) => (\n            <UserStoryCard\n              key={s.id}\n              story={s}\n              index={index}\n              setEditing={() => dispatch(setEditingStory({\n                source: {droppableId: droppableProps.droppableId, index},\n                content: s\n              }))}\n            />\n          ))}\n          {provided.placeholder}\n        </div>\n      )}\n    </Droppable>\n  );\n};\n\nexport default StoriesDroppable;\n","import React, {useEffect, useState} from 'react';\nimport {SprintData} from \"./model\";\nimport styles from './styles.module.scss';\nimport {UserStoryData} from \"../user_story/model\";\nimport StoriesDroppable from \"../stories_droppable/StoriesDroppable\";\nimport {Button} from \"semantic-ui-react\";\n// @ts-ignore\nimport AnimatedNumber from \"animated-number-react\";\n\nexport function countPoints(stories: UserStoryData[]) {\n  return stories.length !== 0 ? stories.map(st => st.points).reduce((prev, curr) => prev + curr) : 0;\n}\n\nexport interface ISprintProps {\n  sprint: SprintData;\n  isDragging: boolean;\n  setEditing?: () => void;\n}\n\nconst Sprint: React.FC<ISprintProps> = (\n  {sprint: {id, name, stories, maxPoints, allowedToDrop}, isDragging, setEditing}\n) => {\n  const points = countPoints(stories);\n  const [overflowed, setOverflowed] = useState<boolean>(false);\n\n  useEffect(() => {\n    setOverflowed(maxPoints < points);\n  }, [maxPoints, points]);\n\n  return (\n    <div className={`${styles.container} ${overflowed ? styles.container_overflowed : ''}`}>\n      <div className={styles.header}>\n        <div className={styles.title}>\n          {name}\n        </div>\n        <Button onClick={setEditing} icon=\"pencil\" compact/>\n        <div className={`${styles.capacity} ${overflowed ? styles.capacity_overflowed : ''}`}>\n          <AnimatedNumber\n            value={points}\n            formatValue={(val: number) => val.toFixed(0)}\n            duration={60}\n          />\n          &nbsp;\n          {`/ ${maxPoints}`}\n        </div>\n      </div>\n      <StoriesDroppable\n        droppableProps={{droppableId: id, isDropDisabled: !allowedToDrop}}\n        className={`${styles.stories_droppable} ${isDragging ? (allowedToDrop ? styles.allowedToDrop : styles.notAllowedToDrop) : ''}`}\n        stories={stories}\n      />\n    </div>\n  );\n};\n\nexport default Sprint;\n","import React from 'react';\nimport styles from './styles.module.scss';\nimport {SprintData} from \"../../components/sprint/model\";\nimport Sprint from \"../../components/sprint/Sprint\";\nimport {useDispatch} from \"react-redux\";\nimport {setEditingSprint} from '../editing/editingSlice';\n\nexport interface ICanvasProps {\n  sprints: SprintData[];\n  isDragging: boolean;\n}\n\nconst Canvas: React.FC<ICanvasProps> = (\n  {sprints, isDragging}\n) => {\n  const dispatch = useDispatch();\n\n  return (\n    <div className={styles.container}>\n      {sprints.map(sp => (\n        <Sprint\n          key={sp.id}\n          sprint={sp}\n          isDragging={isDragging}\n          setEditing={() => dispatch(setEditingSprint(sp))}\n        />\n      ))}\n      <div className={styles.right_space} />\n    </div>\n  );\n};\n\nexport default Canvas;\n","import {configureStore} from '@reduxjs/toolkit';\nimport plannerReducer from '../features/planner/plannerSlice';\nimport editingReducer from '../features/editing/editingSlice';\nimport {reducer as toastr} from 'react-redux-toastr';\n\nexport const store = configureStore({\n  reducer: {\n    toastr,\n    planner: plannerReducer,\n    editing: editingReducer\n  }\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\n","import {store} from \"../../app/store\";\n\nexport const exportStateAndAskDownload = () => {\n  const {backlog, sprints} = store.getState().planner;\n  const dataToExport = {backlog, sprints};\n  askToDownload(JSON.stringify(dataToExport));\n  window.onbeforeunload = null;\n}\n\nconst askToDownload = (text: string) => {\n  const data = new Blob([text], {type: 'text/plain'});\n  const dataAsUrl = window.URL.createObjectURL(data);\n  const link = document.createElement('a');\n  link.setAttribute('download', 'save.json');\n  link.href = dataAsUrl;\n  document.body.appendChild(link);\n\n  // wait for the link to be added to the document\n  window.requestAnimationFrame(function () {\n    const event = new MouseEvent('click');\n    link.dispatchEvent(event);\n    document.body.removeChild(link);\n    window.URL.revokeObjectURL(dataAsUrl);\n  });\n}\n","import React, {useRef, useState} from 'react';\nimport {Modal, ModalContent} from \"semantic-ui-react\";\nimport {toastr} from \"react-redux-toastr\";\n\nexport interface IStateImporterProps {\n  uniqueId: string;\n  importText: string;\n  successText: string;\n  extension: string;\n  onFileRead: (data: string) => void;\n}\n\nconst StateImporter: React.FC<IStateImporterProps> = (\n  {uniqueId, importText, onFileRead, successText, extension}\n) => {\n  const [isUploading, setIsUploading] = useState(false);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const [fileReader] = useState<FileReader>(() => {\n    const reader = new FileReader();\n    reader.onloadstart = () => {\n      setIsUploading(true);\n    };\n    reader.onloadend = () => setIsUploading(false);\n    reader.onload = ev => {\n      console.log('onload', ev);\n      if (ev.target && typeof ev.target.result === \"string\") {\n        try {\n          onFileRead(ev.target.result);\n          toastr.success(successText, 'Application should now update');\n        } catch (e) {\n          toastr.error('Can\\'t parse the file', e?.message);\n          console.error(e);\n        }\n      } else {\n        toastr.error('Can\\'t read the file', 'Type of the result is not string');\n      }\n    }\n    return reader;\n  });\n\n  const handleFileInputChange = (ev: React.ChangeEvent<HTMLInputElement>) => {\n    const {files} = ev.target;\n    if (!files || files.length === 0) return;\n    if (files.length > 1) {\n      toastr.error('Can\\'t select file', 'Multiple files upload is not supported');\n      return;\n    }\n    fileReader.readAsText(files[0]);\n    // @ts-ignore\n    ev.target.value = null;\n  };\n\n  return (\n    <>\n      <input ref={inputRef} id={uniqueId} type=\"file\" onChange={handleFileInputChange} style={{display: \"none\"}}\n             accept={extension}/>\n      <Modal open={isUploading} size=\"mini\">\n        <ModalContent>{importText}</ModalContent>\n      </Modal>\n    </>\n  );\n};\n\nexport default StateImporter;\n","import {Priority, Risk, UserStoryData} from \"../../components/user_story/model\";\nimport Papa from \"papaparse\";\nimport {toastr} from \"react-redux-toastr\";\nimport {v4} from \"uuid\";\n\nexport function startImport(id: string) {\n  let input = document.getElementById(id);\n  if (input) input.click();\n}\n\ninterface UserStoryRaw {\n  id: string;\n  name: string;\n  description: string;\n  points: string;\n  risk: string;\n  priority: string;\n  dependencies: string;\n}\n\nexport function mapToStories(text: string): UserStoryData[] {\n  let parsed = Papa.parse(text, {header: true});\n  if (parsed.errors.length > 0) {\n    const title = 'Can\\'t parse the csv';\n    toastr.error(title, `${parsed.errors.length} errors in console`);\n    console.error(title, parsed.errors);\n    throw Error(title);\n  } else {\n    const idToUuid: IdToUUID = {};\n    const stories = parsed.data as UserStoryRaw[];\n    const newStories = stories.map(story => {\n      return mapStory(story, idToUuid);\n    });\n    console.log('stories', newStories);\n    return newStories;\n  }\n}\n\ninterface IdToUUID {\n  [id: string]: string\n}\n\nconst mapStory: (story: UserStoryRaw, idToUuid: IdToUUID) => UserStoryData = (story, idToUuid) => ({\n  ...story,\n  id: mapId(story.id, idToUuid),\n  points: +story.points,\n  risk: Risk[story.risk as any] as any,\n  priority: Priority[story.priority as any] as any,\n  dependencies: story.dependencies.replace(' ', '')\n    .split(',').map(dep => mapId(dep, idToUuid))\n});\n\nconst mapId = (id: string, idToUuid: IdToUUID) => {\n  let realId = idToUuid[id];\n  if (realId === undefined) {\n    idToUuid[id] = v4();\n    realId = idToUuid[id];\n    console.log('unknown id, created new', id, realId);\n  }\n  return realId;\n}\n","import React, {useCallback} from 'react';\nimport {Dropdown, DropdownItem, DropdownMenu} from \"semantic-ui-react\";\nimport {exportStateAndAskDownload} from \"../../storage_actions/export\";\nimport StateImporter from \"../../storage_actions/StateImporter\";\nimport {v4} from \"uuid\";\nimport {mapToStories, startImport} from \"../../storage_actions/import\";\nimport {useDispatch} from \"react-redux\";\nimport {importState, importStories} from '../../planner/plannerSlice';\n\nexport interface IDropdownImportProps {\n}\n\nconst stateImporterId = v4();\nconst storiesImporterId = v4();\n\nconst DropdownImport: React.FC<IDropdownImportProps> = () => {\n  const dispatch = useDispatch();\n  const dispatchStateImport = useCallback(text => dispatch(importState(JSON.parse(text))), [dispatch]);\n  const dispatchStoriesImport = useCallback(text => dispatch(importStories(mapToStories(text))), [dispatch]);\n\n  return (\n    <>\n      <StateImporter\n        uniqueId={stateImporterId}\n        importText=\"Importing state...\"\n        successText=\"State imported!\"\n        onFileRead={dispatchStateImport}\n        extension=\".json\"\n      />\n      <StateImporter\n        uniqueId={storiesImporterId}\n        importText=\"Importing stories...\"\n        successText=\"Stories imported!\"\n        onFileRead={dispatchStoriesImport}\n        extension=\".csv\"\n      />\n      <Dropdown\n        icon=\"file\"\n        text=\"Storage...\"\n        floating\n        labeled\n        button\n        className=\"icon\"\n      >\n        <DropdownMenu>\n          <DropdownItem onClick={() => startImport(stateImporterId)}>Import state...</DropdownItem>\n          <DropdownItem onClick={() => exportStateAndAskDownload()}>Export state...</DropdownItem>\n          <DropdownItem onClick={() => startImport(storiesImporterId)}>Import stories...</DropdownItem>\n        </DropdownMenu>\n      </Dropdown>\n    </>\n  );\n};\n\nexport default DropdownImport;\n","import React from 'react';\nimport {Dropdown, DropdownItem, DropdownMenu} from \"semantic-ui-react\";\nimport {useDispatch} from \"react-redux\";\nimport {setEditingSprint, setEditingStory} from '../../editing/editingSlice';\n\nexport interface IDropdownNewProps {\n}\n\nconst DropdownNew: React.FC<IDropdownNewProps> = () => {\n  const dispatch = useDispatch();\n\n  return (\n    <Dropdown\n      text=\"Create...\"\n      icon=\"plus\"\n      button\n      floating\n      labeled\n      className=\"icon\"\n    >\n      <DropdownMenu>\n        <DropdownItem onClick={() => dispatch(setEditingStory({} as any))}>User story...</DropdownItem>\n        <DropdownItem onClick={() => dispatch(setEditingSprint({} as any))}>Sprint...</DropdownItem>\n      </DropdownMenu>\n    </Dropdown>\n  );\n};\n\nexport default DropdownNew;\n","import React from 'react';\nimport {Dropdown, DropdownItem, DropdownMenu} from \"semantic-ui-react\";\nimport {useDispatch} from \"react-redux\";\nimport {createRandomSprint, createRandomStory} from '../../planner/plannerSlice';\n\nexport interface IDropdownDebugProps {\n}\n\nconst DropdownDebug: React.FC<IDropdownDebugProps> = () => {\n  const dispatch = useDispatch();\n\n  return (\n    <Dropdown icon=\"bug\" text=\"Debug\" floating labeled button className=\"icon\">\n      <DropdownMenu>\n        <DropdownItem\n          onClick={() => {\n            dispatch(createRandomStory())\n          }}\n        >Random story</DropdownItem>\n        <DropdownItem\n          onClick={() => {\n            dispatch(createRandomSprint())\n          }}\n        >Random sprint</DropdownItem>\n      </DropdownMenu>\n    </Dropdown>\n  );\n};\n\nexport default DropdownDebug;\n","import React from 'react';\nimport DropdownImport from \"./components/DropdownImport\";\nimport DropdownNew from \"./components/DropdownNew\";\nimport styles from './styles.module.scss';\nimport {UserStoryData} from \"../../components/user_story/model\";\nimport {BACKLOG} from \"../planner/plannerSlice\";\nimport StoriesDroppable from \"../../components/stories_droppable/StoriesDroppable\";\nimport DropdownDebug from \"./components/DropdownDebug\";\n\nexport interface ISideMenuProps {\n  stories: UserStoryData[];\n  isDragging: boolean;\n}\n\nconst SideMenu: React.FC<ISideMenuProps> = (\n  {stories, isDragging}\n) => (\n  <div className={styles.container}>\n    <div className={styles.menus}>\n      <DropdownNew />\n      <DropdownImport />\n    </div>\n    <DropdownDebug />\n    <StoriesDroppable\n      droppableProps={{droppableId: BACKLOG}}\n      className={`${styles.stories_droppable} ${isDragging ? styles.availableToDrop : ''}`}\n      stories={stories}\n    />\n  </div>\n);\n\nexport default SideMenu;\n","import React, {useEffect} from 'react';\nimport {UserStoryData} from \"../../components/user_story/model\";\nimport {SprintData} from \"../../components/sprint/model\";\n\nexport interface IUnsavedDropPreventerProps {\n  stories: UserStoryData[];\n  sprints: SprintData[];\n}\n\nconst UnsavedDropPreventer: React.FC<IUnsavedDropPreventerProps> = ({sprints, stories}) => {\n  useEffect(() => {\n    window.onbeforeunload = () => 'There are unsaved changes!'\n  }, [sprints, stories]);\n  return null;\n};\n\nexport default UnsavedDropPreventer;\n","import React from 'react';\nimport Canvas from \"../../features/canvas/Canvas\";\nimport SideMenu from \"../../features/side_menu/SideMenu\";\nimport {useSelector} from \"react-redux\";\nimport {selectBacklog, selectIsDragging, selectSprints} from \"./plannerSlice\";\nimport UnsavedDropPreventer from \"../unsaved_drop_preventer/UnsavedDropPreventer\";\n\nconst Planner: React.FC = () => {\n  const stories = useSelector(selectBacklog);\n  const sprints = useSelector(selectSprints);\n  const isDragging = useSelector(selectIsDragging);\n\n  return (\n    <>\n      <UnsavedDropPreventer stories={stories} sprints={sprints} />\n      <Canvas sprints={sprints} isDragging={isDragging}/>\n      <SideMenu stories={stories} isDragging={isDragging}/>\n    </>\n  );\n};\n\nexport default Planner;\n","import React, {useState} from 'react';\nimport {Button, Confirm, Form, Modal, ModalContent, ModalHeader, Popup} from \"semantic-ui-react\";\nimport styles from \"./styles.module.scss\";\n\nexport interface ICommonEditingModalProps<T> extends IEditingFormProps<T> {\n  entityName: string;\n  onClose: () => void;\n  remove: () => void;\n  removeDisabled?: string;\n  editMode: boolean;\n  formControls: React.ReactFragment;\n}\n\nexport interface IEditingFormProps<T> {\n  save?: () => void;\n  entity: T | undefined;\n}\n\nfunction CommonEditingModal<T>(\n  {\n    editMode, entity, entityName, onClose, remove, save, formControls, removeDisabled\n  }: ICommonEditingModalProps<T>) {\n  const [confirmOpen, setConfirmOpen] = useState<boolean>();\n\n  const onRemoveClick = (ev: any) => {\n    ev.preventDefault();\n    setConfirmOpen(true);\n  }\n\n  return (\n    <>\n      <Confirm\n        size=\"mini\"\n        content={`Are you sure you want to delete ${entityName}?`}\n        open={confirmOpen}\n        onConfirm={() => {\n          if (remove) {\n            remove();\n          }\n          setConfirmOpen(false);\n        }}\n        onCancel={() => setConfirmOpen(false)}\n      />\n      <Modal open={entity !== undefined} onClose={onClose} size=\"tiny\">\n        <ModalHeader>{`${editMode ? 'Edit' : 'Create'} ${entityName}`}</ModalHeader>\n        <ModalContent>\n          {entity && (\n            <Form onSubmit={save}>\n              {formControls}\n              <div className={styles.buttons}>\n                <Button type=\"submit\" color=\"green\" content=\"Save\"/>\n                <div className={styles.placeholder}/>\n                {editMode && (\n                  <Popup\n                    trigger={\n                      <div>\n                        <Button\n                          type=\"push\"\n                          onClick={onRemoveClick}\n                          color=\"red\"\n                          icon=\"trash alternate\"\n                          disabled={removeDisabled !== undefined}\n                        />\n                      </div>\n                    }\n                    disabled={removeDisabled === undefined}\n                    content={removeDisabled}\n                  />\n                )}\n              </div>\n            </Form>\n          )}\n        </ModalContent>\n      </Modal>\n    </>\n  )\n}\n\nexport default CommonEditingModal;\n","import React, {useEffect, useState} from 'react';\nimport {FormGroup, FormInput, FormSelect, FormTextArea} from \"semantic-ui-react\";\nimport {StoryEditingData} from \"../editingSlice\";\nimport {getOptions, Priority, Risk, UserStoryData} from \"../../../components/user_story/model\";\nimport CommonEditingModal from \"./CommonEditingModal\";\n\nexport interface IStoryModalProps {\n  editingData?: StoryEditingData;\n  save: (val: StoryEditingData) => void;\n  onClose: () => void;\n  remove?: () => void;\n}\n\nconst StoryModal: React.FC<IStoryModalProps> = (\n  {editingData, save, onClose, remove}\n) => {\n  const editMode = editingData?.source !== undefined;\n  const [values, setValues] = useState<UserStoryData>();\n\n  useEffect(() => {\n    if (editingData) {\n      setValues(editingData.content);\n    }\n  }, [editingData]);\n\n  return (\n    <CommonEditingModal\n      entityName=\"story\"\n      onClose={onClose}\n      remove={remove as any}\n      editMode={editMode}\n      save={() => save({...editingData, content: values as any})}\n      entity={editingData}\n      formControls={\n        <>\n          <FormInput\n            value={values?.name || ''}\n            label=\"Name\"\n            required\n            autoFocus\n            // @ts-ignore\n            onChange={(ev, {value}) => setValues(prev => ({...prev, name: value}))}\n          />\n          <FormTextArea\n            value={values?.description || ''}\n            label=\"Description\"\n            // @ts-ignore\n            onChange={(ev, {value}) => setValues(prev => ({...prev, description: value}))}\n          />\n          <FormGroup widths=\"equal\">\n            <FormSelect\n              value={values?.risk?.toString() || ''}\n              options={getOptions(Risk)}\n              label=\"Risk\"\n              required\n              // @ts-ignore\n              onChange={(ev, {value}) => setValues(prev => ({...prev, risk: +value}))}\n            />\n            <FormSelect\n              value={values?.priority?.toString() || ''}\n              options={getOptions(Priority)}\n              label=\"Priority\"\n              required\n              // @ts-ignore\n              onChange={(ev, {value}) => setValues(prev => ({...prev, priority: +value}))}\n            />\n          </FormGroup>\n          <FormInput\n            value={values?.points || ''}\n            type=\"number\"\n            label=\"Points\"\n            required\n            // @ts-ignore\n            onChange={(ev, {value}) => setValues(prev => ({...prev, points: +value}))}\n          />\n        </>\n      }\n    />\n  );\n};\n\nexport default StoryModal;\n","import React, {useEffect, useState} from 'react';\nimport {FormInput} from \"semantic-ui-react\";\nimport {SprintData} from \"../../../components/sprint/model\";\nimport CommonEditingModal from \"./CommonEditingModal\";\n\nexport interface ISprintModalProps {\n  sprint?: SprintData;\n  save: (val: SprintData) => void;\n  onClose: () => void;\n  remove?: () => void;\n  removeDisabled?: string;\n}\n\nconst SprintModal: React.FC<ISprintModalProps> = (\n  {sprint, save, onClose, remove, removeDisabled}\n) => {\n  const editMode = sprint?.id !== undefined;\n  const [values, setValues] = useState<SprintData>();\n\n  useEffect(() => {\n    if (sprint) {\n      setValues(sprint);\n    }\n  }, [sprint]);\n\n  return (\n    <CommonEditingModal\n      entityName=\"sprint\"\n      onClose={onClose}\n      remove={remove as any}\n      editMode={editMode}\n      save={() => save(values as any)}\n      entity={sprint}\n      removeDisabled={removeDisabled}\n      formControls={\n        <>\n          <FormInput\n            label=\"Name\"\n            value={values?.name || ''}\n            required\n            autoFocus\n            // @ts-ignore\n            onChange={(ev, {value}) => setValues(prev => ({...prev, name: value}))}\n          />\n          <FormInput\n            label=\"Max story points\"\n            value={values?.maxPoints || ''}\n            type=\"number\"\n            required\n            // @ts-ignore\n            onChange={(ev, {value}) => setValues(prev => ({...prev, maxPoints: +value}))}\n          />\n        </>\n      }\n    />\n  );\n};\n\nexport default SprintModal;\n","import React from 'react';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {\n  selectEditingSprint,\n  selectEditingStory,\n  setEditingSprint,\n  setEditingStory,\n  StoryEditingData\n} from \"./editingSlice\";\nimport StoryModal from \"./components/StoryModal\";\nimport SprintModal from \"./components/SprintModal\";\nimport {removeSprint, removeStory, saveSprint, saveStory} from '../planner/plannerSlice';\nimport {SprintData} from \"../../components/sprint/model\";\n\nexport interface IEditingProps {\n}\n\nconst Editing: React.FC<IEditingProps> = () => {\n  const editingSprint = useSelector(selectEditingSprint);\n  const editingStoryData = useSelector(selectEditingStory);\n  const dispatch = useDispatch();\n\n  return (\n    <>\n      <StoryModal\n        editingData={editingStoryData}\n        save={val => dispatch(saveStory(val))}\n        onClose={() => dispatch(setEditingStory(undefined))}\n        remove={() => dispatch(removeStory(editingStoryData as StoryEditingData))}\n      />\n      <SprintModal\n        sprint={editingSprint as any}\n        save={val => dispatch(saveSprint(val))}\n        onClose={() => dispatch(setEditingSprint(undefined))}\n        remove={() => dispatch(removeSprint(editingSprint as SprintData))}\n        removeDisabled={editingSprint?.stories?.length && editingSprint.stories.length > 0 ?\n          'Can\\'t delete sprint while it contains stories'\n          : undefined\n        }\n      />\n    </>\n  );\n};\n\nexport default Editing;\n","import React from 'react';\nimport styles from './App.module.scss';\nimport 'react-redux-toastr/lib/css/react-redux-toastr.min.css'\nimport Planner from \"./features/planner/Planner\";\nimport {DragDropContext} from \"react-beautiful-dnd\";\nimport {useDispatch} from \"react-redux\";\nimport {moveCard, setIsDragged, updateDroppables} from './features/planner/plannerSlice';\nimport Editing from \"./features/editing/Editing\";\nimport ReduxToastr from \"react-redux-toastr\";\nimport {RootState} from \"./app/store\";\n\nfunction App() {\n  const dispatch = useDispatch();\n\n  return (\n    <DragDropContext\n      onDragStart={initial => {\n        dispatch(updateDroppables(initial))\n        dispatch(setIsDragged(true))\n      }}\n      onDragEnd={result => {\n        dispatch(moveCard(result))\n        dispatch(setIsDragged(false))\n      }}\n    >\n      <ReduxToastr\n        timeOut={4000}\n        newestOnTop={false}\n        position=\"top-right\"\n        // @ts-ignore\n        getState={(state: RootState) => state.toastr}\n        transitionIn=\"fadeIn\"\n        transitionOut=\"fadeOut\"\n        closeOnToastrClick\n      />\n      <div className={styles.container}>\n        <Planner/>\n        <Editing/>\n      </div>\n    </DragDropContext>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: {'Service-Worker': 'script'},\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport {store} from './app/store';\nimport {Provider} from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\nimport 'semantic-ui-css/semantic.min.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App/>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3-8qy\",\"container_overflowed\":\"styles_container_overflowed__27AT7\",\"header\":\"styles_header__3ew-f\",\"title\":\"styles_title__1HS-B\",\"capacity\":\"styles_capacity__1a39v\",\"capacity_overflowed\":\"styles_capacity_overflowed__1EpzU\",\"stories_droppable\":\"styles_stories_droppable__2Dvxb\",\"allowedToDrop\":\"styles_allowedToDrop__2c5n3\",\"notAllowedToDrop\":\"styles_notAllowedToDrop__xOeQN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__L6rJV\",\"high\":\"styles_high__2Lx67\",\"medium\":\"styles_medium__2eR9O\",\"low\":\"styles_low__Pgv-b\",\"points_container\":\"styles_points_container__38J5S\",\"points\":\"styles_points__QOcRD\",\"name\":\"styles_name__nB6qQ\",\"priority\":\"styles_priority__3OgAd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__31L8W\",\"menus\":\"styles_menus__3-Y6A\",\"stories\":\"styles_stories__2fONS\",\"stories_droppable\":\"styles_stories_droppable__equtx\",\"availableToDrop\":\"styles_availableToDrop__1VkhZ\"};"],"sourceRoot":""}